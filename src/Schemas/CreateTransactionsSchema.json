{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "transaction": {
      "type": "object",
      "properties": {
        "amount": { "type": "string", "pattern": "^[0-9]+([.][0-9]+)?$" },
        "currency": { "type": "string", "minLength": 3, "maxLength": 3 },
        "reference": { "type":  "string" },
        "id": { "type": "string" },
        "merchant_data": { "type": "string" },
        "recurring_required": { "type": "boolean" },
        "transaction_url": {
          "type": "object",
          "properties": {
            "cancel_url": {
              "type":  "object",
              "properties": {
                "method": { "type": "string", "enum": ["POST", "GET"] },
                "url": { "type": "string", "format": "uri-template"}
              },
              "required": ["method", "url"]
            },
            "notification_url": {
              "type":  "object",
              "properties": {
                "method": { "type": "string", "enum": ["POST", "GET"] },
                "url": { "type": "string", "format": "uri-template"}
              },
              "required": ["method", "url"]
            },
            "return_url": {
              "type":  "object",
              "properties": {
                "method": { "type": "string", "enum": ["POST", "GET"] },
                "url": { "type": "string", "format": "uri-template"}
              },
              "required": ["method", "url"]
            }
          }
        }
      },
      "required": ["amount", "currency"]
    },
    "customer": {
      "type": "object",
      "properties": {
        "ip": { "type": "string", "format": "ipv4" },
        "country": { "type": "string", "pattern": "^[A-Za-z]{2}$" },
        "email": { "type": "string", "format": "email"  },
        "locale": { "type": "string", "pattern": "^[A-Za-z]{2}$" }
      },
      "required": ["ip"]
    },
    "app_info": {
      "type": "object",
      "properties": {
        "module": { "type": "string", "minLength": 1 },
        "module_version": { "type": "string", "minLength": 1 },
        "platform": { "type": "string", "minLength": 1 },
        "platform_version": { "type": "string", "minLength": 1 }
      },
      "required": ["platform"]
    }
  },
  "required": ["transaction", "customer"],
  "additionalProperties": false
}